{"ast":null,"code":"import { Attendance } from 'src/app/class/attendance';\nimport { Entry } from 'src/app/class/entry';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/data.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction LogComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 1)(2, \"div\", 2);\n    i0.ɵɵtext(3, \" SignIn \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 3)(5, \"form\", 4);\n    i0.ɵɵlistener(\"submit\", function LogComponent_div_0_Template_form_submit_5_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.signIn());\n    });\n    i0.ɵɵelementStart(6, \"table\", 5)(7, \"tbody\")(8, \"tr\")(9, \"th\", 6);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"tr\")(12, \"th\", 6);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"tr\")(15, \"td\")(16, \"button\", 7);\n    i0.ɵɵtext(17, \" SignIn \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(18, \"tr\")(19, \"th\", 6)(20, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function LogComponent_div_0_Template_button_click_20_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.gotomyreport());\n    });\n    i0.ɵɵtext(21, \" View Report \");\n    i0.ɵɵelementEnd()()()()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.att.date, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.currentTime);\n  }\n}\nexport class LogComponent {\n  constructor(route, serv) {\n    this.route = route;\n    this.serv = serv;\n    this.att = new Attendance();\n    this.currentTime = '';\n  }\n  ngOnInit() {\n    let x = sessionStorage.getItem('username');\n    if (x != null && !sessionStorage.getItem('y')) {\n      document.location.reload();\n      sessionStorage.setItem('y', \"1\");\n    }\n    this.gettodaydata();\n    this.updateTime();\n    setInterval(() => this.updateTime(), 1000);\n  }\n  updateTime() {\n    const now = new Date();\n    this.currentTime = now.toLocaleTimeString('en-US', {\n      hour: 'numeric',\n      minute: 'numeric',\n      second: 'numeric',\n      hour12: true\n    });\n  }\n  gettodaydata() {\n    let eid = sessionStorage.getItem('id');\n    console.log(eid);\n    this.serv.gettodaydata(eid).subscribe(data => {\n      this.att = data;\n      console.log(\"Data found\" + data);\n    });\n  }\n  signIn() {\n    let e = new Entry();\n    e.time = this.currentTime;\n    e.type = \"in\";\n    e.att = this.att;\n    console.log(this.att);\n    // this.serv.updatesignintime(this.att).subscribe(data=>{\n    //   console.log(\"signin time updated\");\n    // })\n  }\n\n  signOut() {\n    // this.att.signOut = this.currentTime;\n    // console.log(this.att);\n    // this.serv.updatesignOuttime(this.att).subscribe(data=>{\n    //   console.log(\"signin time updated\");\n    // })\n  }\n  gotomyreport() {\n    let id = sessionStorage.getItem('id');\n    this.route.navigate(['myreport', id]);\n  }\n  static #_ = this.ɵfac = function LogComponent_Factory(t) {\n    return new (t || LogComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.DataService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LogComponent,\n    selectors: [[\"app-log\"]],\n    decls: 33,\n    vars: 2,\n    consts: [[4, \"ngIf\"], [1, \"card\", \"text-center\", 2, \"max-width\", \"30%\", \"margin-left\", \"35%\", \"margin-top\", \"5%\"], [1, \"card-header\"], [1, \"card-body\"], [3, \"submit\"], [1, \"table\"], [\"scope\", \"row\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"], [1, \"btn\", \"btn-primary\", 3, \"click\"]],\n    template: function LogComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, LogComponent_div_0_Template, 22, 2, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\")(2, \"div\", 1)(3, \"div\", 2);\n        i0.ɵɵtext(4, \" SignOut \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 3)(6, \"form\", 4);\n        i0.ɵɵlistener(\"submit\", function LogComponent_Template_form_submit_6_listener() {\n          return ctx.signOut();\n        });\n        i0.ɵɵelementStart(7, \"table\", 5)(8, \"tbody\")(9, \"tr\")(10, \"th\", 6);\n        i0.ɵɵtext(11);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(12, \"tr\")(13, \"th\", 6);\n        i0.ɵɵtext(14);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(15, \"tr\")(16, \"td\")(17, \"button\", 7);\n        i0.ɵɵtext(18, \" SignOut \");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(19, \"tr\")(20, \"th\", 6)(21, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function LogComponent_Template_button_click_21_listener() {\n          return ctx.gotomyreport();\n        });\n        i0.ɵɵtext(22, \" View Report \");\n        i0.ɵɵelementEnd()()()()()()()()();\n        i0.ɵɵelementStart(23, \"div\")(24, \"div\", 1)(25, \"div\", 3)(26, \"form\", 4);\n        i0.ɵɵlistener(\"submit\", function LogComponent_Template_form_submit_26_listener() {\n          return ctx.signOut();\n        });\n        i0.ɵɵelementStart(27, \"table\", 5)(28, \"tbody\")(29, \"tr\")(30, \"th\", 6)(31, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function LogComponent_Template_button_click_31_listener() {\n          return ctx.gotomyreport();\n        });\n        i0.ɵɵtext(32, \" View Report \");\n        i0.ɵɵelementEnd()()()()()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(11);\n        i0.ɵɵtextInterpolate1(\" \", ctx.att.date, \"\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.currentTime);\n      }\n    },\n    dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.NgForm],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["Attendance","Entry","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","LogComponent_div_0_Template_form_submit_5_listener","ɵɵrestoreView","_r2","ctx_r1","ɵɵnextContext","ɵɵresetView","signIn","LogComponent_div_0_Template_button_click_20_listener","ctx_r3","gotomyreport","ɵɵadvance","ɵɵtextInterpolate1","ctx_r0","att","date","ɵɵtextInterpolate","currentTime","LogComponent","constructor","route","serv","ngOnInit","x","sessionStorage","getItem","document","location","reload","setItem","gettodaydata","updateTime","setInterval","now","Date","toLocaleTimeString","hour","minute","second","hour12","eid","console","log","subscribe","data","e","time","type","signOut","id","navigate","_","ɵɵdirectiveInject","i1","Router","i2","DataService","_2","selectors","decls","vars","consts","template","LogComponent_Template","rf","ctx","ɵɵtemplate","LogComponent_div_0_Template","LogComponent_Template_form_submit_6_listener","LogComponent_Template_button_click_21_listener","LogComponent_Template_form_submit_26_listener","LogComponent_Template_button_click_31_listener"],"sources":["F:\\PROFFESIONAL DOCS\\MY - Coding\\my language\\Jforce Sol\\attendanceApp\\src\\app\\comp\\log\\log.component.ts","F:\\PROFFESIONAL DOCS\\MY - Coding\\my language\\Jforce Sol\\attendanceApp\\src\\app\\comp\\log\\log.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Attendance } from 'src/app/class/attendance';\nimport { Entry } from 'src/app/class/entry';\nimport { DataService } from 'src/app/services/data.service';\n\n@Component({\n  selector: 'app-log',\n  templateUrl: './log.component.html',\n  styleUrls: ['./log.component.css']\n})\nexport class LogComponent {\n\n  public att:Attendance  = new Attendance();\n  public currentTime: any='';\n\n  constructor(private route:Router,private serv:DataService){}\n\n  ngOnInit(){\n    let x =sessionStorage.getItem('username');\n    if(x!=null && !sessionStorage.getItem('y') ){\n      document.location.reload();\n     sessionStorage.setItem('y',\"1\");\n    }\n    \n    this.gettodaydata();\n\n    this.updateTime();\n    setInterval(() => this.updateTime(), 1000); \n  \n  }\n  updateTime(): void {\n    const now = new Date();\n    this.currentTime = now.toLocaleTimeString('en-US', { hour: 'numeric', minute: 'numeric', second: 'numeric', hour12: true });\n  }\n\n  gettodaydata(){\n    let eid = sessionStorage.getItem('id');\n    console.log(eid);\n      this.serv.gettodaydata(eid).subscribe(data=>{\n        this.att = data;\n        console.log(\"Data found\" + data)\n      })\n\n    }\n\n    \n  signIn(){\n    let e = new Entry();\n    e.time = this.currentTime;\n    e.type=\"in\"\n    e.att=this.att;\n    console.log(this.att);\n    // this.serv.updatesignintime(this.att).subscribe(data=>{\n    //   console.log(\"signin time updated\");\n    // })\n\n  }\n  signOut(){\n    // this.att.signOut = this.currentTime;\n    // console.log(this.att);\n    // this.serv.updatesignOuttime(this.att).subscribe(data=>{\n    //   console.log(\"signin time updated\");\n    // })\n  }\n\n  gotomyreport(){\n      let id =sessionStorage.getItem('id')\n    this.route.navigate(['myreport',id]);\n  }\n}\n","<div  *ngIf=\"\" >\n    <div class=\"card text-center\"  style=\"max-width: 30%;margin-left: 35%;margin-top: 5%;\">\n      <div class=\"card-header\">\n        SignIn\n      </div>\n      <div  class=\"card-body\">\n    <form (submit)=\"signIn()\">\n      <table class=\"table\">\n          <tbody>\n            <tr>\n              <th scope=\"row\"> {{att.date}}</th>\n            </tr>\n            <tr>\n              <th scope=\"row\">{{currentTime}}</th>\n            </tr>\n            <tr>\n              <td><button type=\"submit\"  class=\"btn btn-primary \">\n                SignIn\n              </button>\n               </td>\n            </tr>\n            <tr>\n              <th scope=\"row\"> \n                <button (click)=\"gotomyreport()\"  class=\"btn btn-primary \">\n                  View Report\n              </button></th>\n            </tr>\n          </tbody>\n        </table>\n      </form>\n      </div>\n    </div>\n  </div>\n  \n  <div   >\n    <div class=\"card text-center\"  style=\"max-width: 30%;margin-left: 35%;margin-top: 5%;\">\n      <div class=\"card-header\">\n        SignOut\n      </div>\n      <div  class=\"card-body\">\n    <form  (submit)=\"signOut()\" >\n      <table class=\"table\">\n          <tbody>\n            <tr>\n              <th scope=\"row\"> {{att.date}}</th>\n            </tr>\n            <tr>\n              <th scope=\"row\">{{currentTime}}</th>\n            </tr>\n            <tr>\n              <td>\n                <button type=\"submit\"  class=\"btn btn-primary \">\n                  SignOut\n                </button>\n               </td>\n            </tr>\n            <tr>\n              <th scope=\"row\"> \n                <button (click)=\"gotomyreport()\" class=\"btn btn-primary \">\n                  View Report\n              </button> </th>\n            </tr>\n          </tbody>\n        </table>\n      </form>\n      </div>\n    </div>\n  </div>  \n  <div   >\n    <div class=\"card text-center\"  style=\"max-width: 30%;margin-left: 35%;margin-top: 5%;\">\n    <div  class=\"card-body\">\n    <form  (submit)=\"signOut()\" >\n      <table class=\"table\">\n          <tbody>\n            <tr>\n              <th scope=\"row\"> \n                <button (click)=\"gotomyreport()\" class=\"btn btn-primary \">\n                  View Report\n              </button></th>\n            </tr>\n            \n          </tbody>\n        </table>\n      </form>\n      </div>\n    </div>\n  </div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}